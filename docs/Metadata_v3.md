# Data Types

### Wyoming CV Data

Near real-time feed of CV data coming in from the [Wyoming Connected Vehicle Pilot]( https://www.its.dot.gov/pilots/pilots_wydot.htm).

### BSM/TIM Data Format

All files are in a JSON format and are broken into three core fields:

- metadata - Includes all additional metadata information added to the file to provide additional context for the data
- payload - The [J2735 Standard](http://standards.sae.org/j2735_201603/) information that includes information like vehicle location, speed, and heading
- schemaVersion - Version number of the full file schema

#### Metadata 

Field Name | Definition 
--- | --- 
generatedAt | Closest time to which the record was created, either signed or received by the generatedBy source in UTC format. This information is taken from the communication header.
generatedBy | Source of the record, whether [OBU, RSU, TMC].
logFileName | Name of the original file that deposited the message into the ODE
payloadType | ODE specific Java class identifying the type of payload included with the message
recordType | Type of message
serialId | Unique record identifier for the message generated by the ODE
serialId/streamId |Stream that process the original log file
serialId/bundleSize | Size of the bundle within the processed file
serialId/bundleId | Bundle identifier
serialId/recordId | Record identier within the bundle
serialid/serialNumber | Combined identifier within open stream
odeReceivedAt | Time ODE received the data in UTC format
receivedDetails | Information on when the message was received by a vehicle
receivedDetails/location | Latitude, longitude, elevation, speed, and heading of vehicle when receiving the message
receivedDetails/rxFrom | Source that the vehicle originally received the message from (Sat, RSU, RV)
schemaVersion | Version of the metadata schema
sanitized | Boolean value indicating whether the data has been sanitized by the [Privacy Module](https://github.com/usdot-jpo-ode/jpo-cvdp)
proccessedBy | Array of identifier tracking the santizations that have occurred
validSignature | Boolean of signed vs unsigned data based on the SCMS System defined per message

* Midnight will be represented as 0:00 for all time fields

#### Payload 

Field Name | Definition 
--- | --- 
datatype | ODE classpath for the information represented in the data field of the payload
data | ODE JSON representation of the J2735 spec, as definted in [J2735 Standard](http://standards.sae.org/j2735_201603/)

#### Sample Data 
*Schema Version: 2*

```json
{
  "schemaVersion": 3,
  "metadata": {
      "schemaVersion": 3,
        "payloadType": "us.dot.its.jpo.ode.model.OdeTIMPayload",
        "generatedBy": "OBU"
        "generatedAt": "2017-0714T15:46:47.707Z[UTC]",            
        "serialId": {
            "streamId": "90b148a2-4b30-46a1-9947-4084506847e8",
            "bundleSize": 1,
            "bundleId": 0,
            "recordId": 0,
            "serialNumber": 0
        },
        "recordType": "receivedMsgRecord"
        "odeReceivedAt": "2017-09-26T20:00:08.48Z[UTC]",
        "receivedDetails": {
            "location": 
              {
              "latitude": 91.1,
              "longitude": 91.1,
              "elevation": 101,
              "speed": 60,
              "heading": 40
              },
            "rxFrom": 0,
            },
         "validSignature": "true"
        }
    }
  "payload": {                                                
    "dataType": "us.dot.its.jpo.ode.plugin.j2735.J2735Bsm",
    "data": {                                                 
      "coreData": {
        "msgCnt": 102,
        "id": "BEA10000",
        "secMark": 36799,
        "position": {
          "latitude": 41.1641851,
          "longitude": -104.843423,
          "elevation": 1896.9
        },        
        "accelSet": {
          "accelYaw": 0
        },
        "accuracy": {},
        "speed": 0,
        "heading": 450.123,
        "brakes": {
          "wheelBrakes": {
            "leftFront": false,
            "rightFront": false,
            "unavailable": true,
            "leftRear": false,
            "rightRear": false
          },
          "traction": "unavailable",
          "abs": "unavailable",
          "scs": "unavailable",
          "brakeBoost": "unavailable",
          "auxBrakes": "unavailable"
        },
        "size": {}
      },
      "partII": [
        {
          "id": "VEHICLESAFETYEXT",
          "value": {
            "pathHistory": {
              "crumbData": [
                {
                  "elevationOffset": 9.5,
                  "latOffset": 0.0000035,
                  "lonOffset": 0.0131071,
                  "timeOffset": 33.2
                }           
              ]
            },
            "pathPrediction": {
              "confidence": 0,
              "radiusOfCurve": 0
            }
          }
        }
      ]
    }
  }
}
```

